(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1657:function(e,n,t){"use strict";var a=t(162),i=t.n(a);n.a=i.a},2018:function(e,n,t){"use strict";t.r(n);var a,i=t(4),l=t(114),r=t(5),o=t(6),c=t(9),s=t(8),d=t(10),u=t(52),p=t(0),m=t.n(p),f=t(135),h=t(46),b=t(80),g=t(586),y=function(e){function n(){return Object(r.a)(this,n),Object(c.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(o.a)(n,[{key:"render",value:function(){var e=this.props,n=e.price,t=e.quantity,a=e._highlightResult.name.value,i=(n*t).toFixed(2),l=a?a.substring(0,30):"";return m.a.createElement("div",{className:"singleOrderInfo"},m.a.createElement("p",null,m.a.createElement("span",null,l),m.a.createElement("span",null,"x"),m.a.createElement("span",{className:"quantity"},t)),m.a.createElement("span",{className:"totalPrice"},"$",i))}}]),n}(p.Component),x=function(e){function n(e){var t;return Object(r.a)(this,n),(t=Object(c.a)(this,Object(s.a)(n).call(this,e))).handleChange=function(e){return function(e){console.log("Done"),t.setState({staff:e.target.value,validating:!1}),t.props.notifyChange&&(t.props.notifyChange("recp_staff_id",e.target.id),t.props.notifyChange("staffName",e.target.value))}},t.handleClicked=function(){console.log(t.props.products),""!==t.state.staff&&t.state.staff?t.props.notifyCheckout():t.setState({validating:!0})},t.renderProducts=t.renderProducts.bind(Object(u.a)(Object(u.a)(t))),t.state={validating:!1,staff:""},t}return Object(d.a)(n,e),Object(o.a)(n,[{key:"renderProducts",value:function(){var e=this.props,n=e.productQuantity,t=e.products;return a=0,n.map(function(e){return a+=e.quantity*t[e.objectID].price,m.a.createElement(y,Object.assign({key:e.objectID,quantity:e.quantity},t[e.objectID]))})}},{key:"render",value:function(){return m.a.createElement("div",{className:"orderInfo"},m.a.createElement("div",{className:"orderTable"},m.a.createElement("div",{className:"orderTableHead"},m.a.createElement("span",{className:"tableHead"},"Product"),m.a.createElement("span",{className:"tableHead"},"Total")),m.a.createElement("div",{className:"orderTableBody"},this.renderProducts()),m.a.createElement("div",{className:"orderTableFooter"},m.a.createElement("span",null,"Total"),m.a.createElement("span",null,"$",a.toFixed(2))),m.a.createElement(g.a,{config:"staffs",label:"Staff",value:this.state.staff?this.state.staff:"",error:this.state.validating,onChange:this.handleChange("staffs")}),m.a.createElement(b.a,{disabled:0===this.props.productQuantity.length,variant:"raised",color:"primary",className:"orderBtn",onClick:this.handleClicked},"Place Order")))}}]),n}(p.Component);var w=Object(h.b)(function(e){return Object(i.a)({},e.Ecommerce)})(x),k=t(16),j=t(14),v=t(1657);function O(){var e=Object(k.a)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  .menu {\n    width: 200px;\n  }\n"]);return O=function(){return e},e}function C(){var e=Object(k.a)(["\n  margin: 0 8px 16px;\n  \n"]);return C=function(){return e},e}var E=Object(j.b)(v.a)(C()),N=j.b.form(O()),_=function(e){function n(){var e,t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(t=Object(c.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(i)))).state={name:"",email:"",multiline:"Controlled"},t.handleChange=function(e){return function(n){console.log(t.props.notifyChange),t.props.notifyChange&&t.props.notifyChange(e,n.target.value)}},t}return Object(d.a)(n,e),Object(o.a)(n,[{key:"render",value:function(){var e=this;return m.a.createElement(N,{noValidate:!0,autoComplete:"off"},m.a.createElement(E,{required:!0,fullWidth:!0,id:"fullName",className:"firstNameField billingFormField",label:"Full Name",margin:"normal",value:this.state.name,onChange:function(n){e.setState({name:n.target.value}),e.handleChange("recp_customer")(n)}}),m.a.createElement("br",null),m.a.createElement(E,{required:!0,fullWidth:!0,id:"email",className:"emailField billingFormField",label:"Email Address",type:"email",margin:"normal",value:this.state.email,onChange:function(n){e.setState({email:n.target.value}),e.handleChange("recp_customer_email")(n)}}))}}]),n}(m.a.Component),F=t(233),S=t(244),T=t(222),I=t.n(T),P=t(57),q=t(492),z=t.n(q),D=t(43),B=t(12),H=t(79);function W(){var e=Object(k.a)(["\n  h3.sectionTitle {\n    font-size: 16px;\n    font-weight: 500;\n    color: ",";\n    padding: 0 7px;\n  }\n\n  form {\n    padding-right: 20px;\n\n    @media only screen and (min-width: 768px) and (max-width: 991px) {\n      padding-right: 0;\n    }\n\n    @media only screen and (max-width: 767px) {\n      padding-right: 0;\n    }\n\n    .fullColumnWidth {\n      width: 100%;\n    }\n\n    .billingFormField {\n      margin-bottom: 20px;\n\n      @media only screen and (min-width: 768px) and (max-width: 991px) {\n        width: 100%;\n      }\n\n      @media only screen and (max-width: 767px) {\n        width: 100%;\n      }\n\n      label {\n        font-size: 0.9rem;\n        color: ",";\n      }\n\n      > div {\n        input {\n          height: 1.65em;\n        }\n      }\n\n      &.selectField {\n        > div > div > div {\n          height: calc(1em + 14px);\n          font-size: 0.9rem;\n        }\n      }\n    }\n  }\n\n  .orderInfo {\n    width: 100%;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-flex-direction: column;\n    -ms-flex-direction: column;\n    flex-direction: column;\n\n    .orderTableHead {\n      width: 100%;\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n      -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n      justify-content: space-between;\n      -webkit-align-items: center;\n      -webkit-box-align: center;\n      -ms-flex-align: center;\n      align-items: center;\n      margin-bottom: 20px;\n\n      span.tableHead {\n        font-size: 15px;\n        font-weight: 500;\n        color: ",";\n        line-height: 1.2;\n      }\n    }\n\n    .orderTableBody {\n      width: 100%;\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n      flex-direction: column;\n      margin-bottom: 10px;\n\n      .singleOrderInfo {\n        width: 100%;\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n        -webkit-justify-content: space-between;\n        -ms-flex-pack: justify;\n        justify-content: space-between;\n        -webkit-align-items: center;\n        -webkit-box-align: center;\n        -ms-flex-align: center;\n        align-items: center;\n        padding: 10px 0;\n        border-bottom: 1px solid ",";\n\n        p {\n          margin: 0;\n\n          span {\n            font-size: 13px;\n            font-weight: 400;\n            color: ",";\n            line-height: 1.5;\n            padding: 0 3px;\n            display: inline-block;\n          }\n\n          span.quantity {\n            font-size: 13px;\n            font-weight: 400;\n            color: ",";\n            line-height: 1.5;\n            display: inline-block;\n          }\n        }\n\n        .totalPrice {\n          font-size: 13px;\n          font-weight: 500;\n          color: ",";\n          line-height: 1.5;\n        }\n      }\n    }\n\n    .orderTableFooter {\n      width: 100%;\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n      -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n      justify-content: space-between;\n      -webkit-align-items: center;\n      -webkit-box-align: center;\n      -ms-flex-align: center;\n      align-items: center;\n      margin-bottom: 40px;\n\n      span {\n        font-size: 14px;\n        font-weight: 500;\n        color: ",";\n        line-height: 1.2;\n      }\n    }\n\n    .orderBtn {\n      width: 100%;\n    }\n  }\n"]);return W=function(){return e},e}var A=j.b.div(W(),Object(B.palette)("grey",9),Object(B.palette)("grey",8),Object(B.palette)("grey",8),Object(B.palette)("grey",3),Object(B.palette)("grey",5),Object(B.palette)("grey",8),Object(B.palette)("grey",5),Object(B.palette)("grey",8)),Q=Object(H.a)(A),J=P.a.checkout,R=function(e){function n(){var e,t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(i)))).state={loading:!1},t.handleChanged=function(e,n){t.setState(Object(l.a)({},e,n))},t.handleCheckout=function(){var e=Object(u.a)(Object(u.a)(t));0!==t.props.productQuantity.length?navigator.geolocation.getCurrentPosition(function(n){var t=n.coords.latitude,a=n.coords.longitude,i={customerEmail:e.state.recp_customer_email,customerName:e.state.recp_customer,longitude:a,latitude:t,staff_id:e.state.recp_staff_id,staffName:e.state.staffName,sales:[]};e.props.productQuantity.forEach(function(n){var t=e.props.products[n.objectID],a=n.quantity;i.sales.push({inventoryId:t.inventoryID,sale_inv_id:t.inventoryID,sale_price:t.price,sale_total_purchase:a,prod_name:t.name})}),console.log("items",i),console.log("Checkout",e.props.checkout),e.props.checkout(i),e.setState({loading:!0})}):I()("Failed to Checkout","Cannot checkout an empty cart!","error")},t}return Object(d.a)(n,e),Object(o.a)(n,[{key:"componentWillReceiveProps",value:function(e){console.log(e),e.success&&!this.props.success?(this.setState({loading:!1}),I()("Checkout Completed Successfully","Successfully Checkout the Cart, your items have been sold","success")):!e.success&&this.state.loading&&(this.setState({loading:!1}),I()("Failed to Checkout","Failed to checkout, internal error : "+e.message,"error"))}},{key:"render",value:function(){return m.a.createElement(F.a,null,m.a.createElement(Q,{className:"checkoutPageWrapper"},m.a.createElement(z.a,{style:{display:this.state.loading?"block":"none"}}),m.a.createElement(D.d,null,m.a.createElement(D.b,null,m.a.createElement(S.a,null,m.a.createElement("h3",{className:"sectionTitle"},"Billing details"),m.a.createElement(_,{notifyChange:this.handleChanged}))),m.a.createElement(D.b,null,m.a.createElement(S.a,null,m.a.createElement(w,{notifyChange:this.handleChanged,checkingOut:this.state.loading,notifyCheckout:this.handleCheckout}))))))}}]),n}(m.a.Component);n.default=Object(h.b)(function(e){return Object(i.a)({},e.App,e.Ecommerce)},{checkout:J})(Object(f.withStyles)(function(e){return{}},{withTheme:!0})(R))}}]);
//# sourceMappingURL=14.ac0716d2.chunk.js.map