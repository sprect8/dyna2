{"version":3,"sources":["containers/Settings/index.js"],"names":["loadData","actions","saveData","updateData","deleteData","openToEdit","openForNew","closedEditBox","loadUserSettings","settings","tableName","displayName","key","display","description","columns","name","type","sequence","mandatory","unique","disabled","users","Settings","state","open","records","user","loadingRows","componentDidMount","_this","props","componentWillReceiveProps","deleting","success","swal","message","console","log","rows","setState","updating","error","saved","loaded","selectedData","sel","profile","handleClickOpen","data","config","forEach","x","handleClose","handleEditRow","row","handleUpdate","record","this","_this$state","loading","classes","buttonClassname","classNames","Object","C_dev_dyna2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","buttonSuccess","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","_components_utility_layoutWrapper__WEBPACK_IMPORTED_MODULE_8__","_components_utility_rowColumn__WEBPACK_IMPORTED_MODULE_10__","_components_masterdetail_formedit__WEBPACK_IMPORTED_MODULE_22__","updateError","updateSuccess","onClose","onUpdate","isPanel","_components_uielements_button__WEBPACK_IMPORTED_MODULE_11__","variant","color","className","onClick","handleSave","_material_ui_icons_Check__WEBPACK_IMPORTED_MODULE_17___default","_material_ui_icons_Cancel__WEBPACK_IMPORTED_MODULE_19___default","_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_18___default","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_14___default","size","fabProgress","React","Component","appConect","connect","C_dev_dyna2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","MasterDetailsReducer","withStyles","theme","root","alignItems","wrapper","margin","spacing","unit","position","backgroundColor","green","&:hover","buttonFailed","red","right","bottom","zIndex","buttonProgress","top","left","marginTop","marginLeft"],"mappings":"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","file":"static/js/15.c480b2fc.chunk.js","sourcesContent":["import React from 'react';\r\nimport LayoutWrapper from '../../components/utility/layoutWrapper';\r\nimport Papersheet from '../../components/utility/papersheet';\r\nimport { FullColumn } from '../../components/utility/rowColumn';\r\nimport Button from '../../components/uielements/button';\r\nimport Icon from '../../components/uielements/icon';\r\nimport swal from 'sweetalert2';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport green from '@material-ui/core/colors/green';\r\nimport red from '@material-ui/core/colors/red';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport CrossIcon from '@material-ui/icons/Cancel';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport TableView from '../../components/masterdetail/tableview';\r\nimport FormEditView from '../../components/masterdetail/formedit';\r\nimport HistoryView from '../../components/masterdetail/historyview';\r\n\r\nimport 'react-vertical-timeline-component/style.min.css';\r\nimport actions from '../../redux/masterdetails/actions';\r\nimport { connect } from 'react-redux';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport classNames from 'classnames';\r\n\r\n/**\r\n * This tool is for data entry into the system based on an underlying database model \r\n **/\r\n\r\nconst { loadData, saveData, updateData, deleteData, openToEdit, openForNew, closedEditBox, loadUserSettings } = actions;\r\n\r\n/**\r\n * Username First Name Last Name\r\n * Company Name Company Industry\r\n * Company Motto Company Phone Company Email\r\n * Company Logo\r\n * \r\n * Password settings\r\n */\r\n\r\nconst settings = {\r\n\t\"tableName\": \"settings\",\r\n\t\"displayName\": \"Settings table\",\r\n\t\"key\": \"cate_id\",\r\n\t\"display\": \"cate_name\",\r\n\t\"description\": \"Settings Table\",\r\n\t\"columns\": [\r\n\t\t{ \"name\": \"sett_id\", \"display\": \"Setting ID\", \"type\": \"number\", \"sequence\": \"cate_id_seq\", \"mandatory\": true, \"unique\": true, \"key\": true },\r\n\t\t{ \"name\": \"sett_user_id\", \"display\": \"User ID\", \"type\": \"number\", \"mandatory\": true, \"unique\": true, \"disabled\": true },\r\n\t\t{ \"name\": \"sett_company_name\", \"display\": \"Company Name\", \"type\": \"text\" },\r\n\t\t{ \"name\": \"sett_company_logo\", \"display\": \"Logo\", \"type\": \"picture\" },\r\n\t\t{ \"name\": \"sett_company_motto\", \"display\": \"Motto\", \"type\": \"text\" },\r\n\t\t{ \"name\": \"sett_company_email\", \"display\": \"Email\", \"type\": \"text\" },\r\n\t\t{ \"name\": \"sett_company_phone\", \"display\": \"Phone\", \"type\": \"text\" },\r\n\t\t{ \"name\": \"sett_indt_id\", \"display\": \"Industry\", \"type\": \"text\" }\r\n\t]\r\n}\r\n\r\nconst users = {\r\n\t\"tableName\": \"users\",\r\n\t\"displayName\": \"Users Records\",\r\n\t\"description\": \"System User\",\r\n\t\"columns\": [\r\n\t\t{ \"name\": \"user_id\", \"display\": \"User Id\", \"type\": \"number\", \"sequence\": \"user_id_seq\", \"mandatory\": true, \"unique\": true, \"key\": true },\r\n\t\t{ \"name\": \"user_fname\", \"display\": \"First Name\", \"type\": \"text\", \"mandatory\": true },\r\n\t\t{ \"name\": \"user_lname\", \"display\": \"Surname\", \"type\": \"text\", \"mandatory\": true },\r\n\t\t{ \"name\": \"user_email\", \"display\": \"Email\", \"type\": \"text\", \"mandatory\": false },\r\n\t\t{ \"name\": \"user_user_pic\", \"display\": \"User Photo\", \"type\": \"picture\" },\r\n\t]\r\n}\r\n\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    wrapper: {\r\n        margin: theme.spacing.unit,\r\n        position: 'relative',\r\n    },\r\n    buttonSuccess: {\r\n        backgroundColor: green[500],\r\n        '&:hover': {\r\n            backgroundColor: green[700],\r\n        },\r\n    },\r\n\r\n    buttonFailed: {\r\n        backgroundColor: red[500],\r\n        '&:hover': {\r\n            backgroundColor: red[700],\r\n        },\r\n    },\r\n    fabProgress: {\r\n        color: green[500],\r\n        position: 'absolute',\r\n        right: 20,\r\n        bottom: 20,\r\n        zIndex: 1,\r\n    },\r\n    buttonProgress: {\r\n        color: green[500],\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    },\r\n});\r\n\r\nclass Settings extends React.Component {\r\n\tstate = {\r\n\t\topen: false,\r\n\t\trecords: [],\r\n\t\tuser: {},\r\n\t\tsettings: {},\r\n\t\tloadingRows: true,\r\n\t};\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.loadUserSettings();\r\n\t}\r\n\r\n\tcomponentWillReceiveProps = (props) => {\r\n\r\n\t\tif (this.deleting && props.success) {\r\n\t\t\tswal(\r\n\t\t\t\t'Deleted!',\r\n\t\t\t\t'Your row has been deleted.',\r\n\t\t\t\t'success'\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (this.deleting && !props.success) {\r\n\t\t\tswal(\r\n\t\t\t\t'Failed to Deleted!',\r\n\t\t\t\t'Your row has not been deleted. Error was ' + props.message,\r\n\t\t\t\t'error'\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tthis.deleting = false;\r\n\r\n\t\tconsole.log(props);\r\n\t\tif (props.rows) {\r\n\r\n\t\t\tthis.setState({ records: props.rows, loadingRows: false })\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({ records: [] })\r\n\t\t}\r\n\r\n\t\tif (this.updating) {\r\n\t\t\t// check error\r\n\t\t\tlet error = props.message;\r\n\t\t\tlet saved = !error;\r\n\r\n\t\t\tthis.setState({ saved, error, message: props.message })\r\n\t\t}\r\n\t\tthis.updating = false;\r\n\r\n\t\tif (this.props.loaded !== props.loaded && props.loaded && props.selectedData) {\r\n\t\t\tthis.setState({ open: true, sel: props.selectedData });\r\n\t\t}\r\n\r\n\t\tif (props.profile) {\r\n\t\t\tthis.setState({ user: props.profile.user, settings: props.profile.settings })\r\n\t\t}\r\n\t}\r\n\r\n\thandleClickOpen = () => {\r\n\t\t// clear items\r\n\t\tlet data = {};\r\n\t\tthis.props.config.columns.forEach(x => {\r\n\t\t\tdata[x.name] = \"\";\r\n\t\t});\r\n\t\tdata[this.props.config.key] = null;\r\n\t\t//this.setState({ open: true, sel: data });\r\n\t\tthis.props.openForNew(data);\r\n\t};\r\n\r\n\thandleClose = () => {\r\n\t\tthis.props.closedEditBox();\r\n\t\tthis.setState({ open: false });\r\n\r\n\t};\r\n\r\n\thandleEditRow = (row) => {\r\n\t\t//this.setState({open: true, sel: row});\r\n\t\tthis.props.openToEdit(row);\r\n\t}\r\n\r\n\thandleUpdate = (record) => {\r\n\t\tconsole.log(this.props.saveData);\r\n\t\tthis.updating = true;\r\n\t\tthis.props.saveData(this.props.config, record);\r\n\t\t//let st = this.state.records;\r\n\t\t//st.push(record);\r\n\t\t//this.setState({records:st, open: false});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { config } = this.props;\r\n\t\t\r\n        const { loading, success, error } = this.state;\r\n\t\tconst { classes } = this.props;\r\n        const buttonClassname = classNames({\r\n            [classes.buttonSuccess]: success,\r\n\t\t});\r\n\t\t\r\n\t\treturn (<LayoutWrapper>\r\n\r\n\t\t\t<FullColumn>\r\n\t\t\t\t<h3>Personal</h3>\r\n\t\t\t\t<FormEditView config={users} open={this.state.open}\r\n\t\t\t\t\tupdateError={this.state.error}\r\n\t\t\t\t\tupdateSuccess={this.state.saved}\r\n\t\t\t\t\tmessage={this.state.message}\r\n\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t\tonUpdate={this.handleUpdate}\r\n\t\t\t\t\tdata={this.state.user}\r\n\t\t\t\t\tisPanel={true}\r\n\t\t\t\t/>\r\n\t\t\t</FullColumn>\r\n\t\t\t<FullColumn>\r\n\t\t\t\t<h3>Company</h3>\r\n\t\t\t\t<FormEditView config={settings} open={this.state.open}\r\n\t\t\t\t\tupdateError={this.state.error}\r\n\t\t\t\t\tupdateSuccess={this.state.saved}\r\n\t\t\t\t\tmessage={this.state.message}\r\n\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t\tonUpdate={this.handleUpdate}\r\n\t\t\t\t\tdata={this.state.settings}\r\n\t\t\t\t\tisPanel={true}\r\n\t\t\t\t/>\r\n\t\t\t</FullColumn>\r\n\t\t\t<FullColumn>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"fab\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={buttonClassname}\r\n\t\t\t\t\tonClick={this.handleSave}\r\n\t\t\t\t>\r\n\t\t\t\t\t{success ? <CheckIcon /> : (error ? <CrossIcon /> : <SaveIcon />)}\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t{loading && <CircularProgress size={68} className={classes.fabProgress} />}\r\n\t\t\t</FullColumn>\r\n\t\t</LayoutWrapper>\r\n\t\t)\r\n\t}\r\n};\r\n\r\nconst appConect = connect(\r\n\tstate => ({\r\n\t\t...state.MasterDetailsReducer,\r\n\t}),\r\n\t{ loadData, updateData, saveData, deleteData, openToEdit, openForNew, closedEditBox, loadUserSettings }\r\n)(Settings);\r\n\r\nexport default withStyles(styles)(appConect);\r\n\r\n"],"sourceRoot":""}