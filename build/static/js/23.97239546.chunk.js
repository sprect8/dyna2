(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{2209:function(e,a,t){"use strict";t.r(a);var o=t(4),n=t(7),s=t(8),d=t(11),i=t(10),r=t(12),l=t(0),c=t.n(l),p=t(254),u=t(263),m=t(46),y=t(79),f=t(47),h=t(229),g=t.n(h),w=t(601),b=t(526),E=t(648),D=(t(124),t(21)),v=t(43),R=t(270),_=t.n(R),k=D.a.loadData,C=D.a.saveData,O=D.a.updateData,S=D.a.deleteData,j=D.a.openToEdit,x=D.a.openForNew,N=D.a.closedEditBox,M=D.a.formModified,q={tableName:"receipts",displayName:"Receipts Records",key:"recp_id",display:"recp_id",description:"These are your Receipt records, edit, add, remove and view any details",columns:[{name:"recp_id",display:"Receipts Id",type:"number",sequence:"recp_id_seq",mandatory:!0,unique:!0,key:!0},{name:"recp_staff_id",display:"Staff",type:"number",mandatory:!0,ref:"staffs"},{name:"recp_uuid",display:"Unique ID",type:"text",mandatory:!0,disabled:!0,uuid:!0},{name:"recp_latitude",display:"Latitude",type:"number",disabled:!0,latitude:!0},{name:"recp_longitude",display:"Longitude",type:"number",disabled:!0,longitude:!0},{name:"recp_customer",display:"Customer Name",type:"text",mandatory:!0},{name:"recp_customer_email",display:"Customer Email",type:"text",mandatory:!0},{name:"recp_timestamp",display:"Receipt Date",type:"timestamp",mandatory:!0},{name:"items",display:"Sold Items",type:"mdview"}]},F=function(e){function a(){var e,t;Object(n.a)(this,a);for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(s)))).state={open:!1,records:[],sel:{},loadingRows:!0},t.componentDidMount=function(){t.props.loadData(q)},t.componentWillReceiveProps=function(e){if(t.deleting&&e.success&&g()("Deleted!","Your row has been deleted.","success"),t.deleting&&!e.success&&g()("Failed to Deleted!","Your row has not been deleted. Error was "+e.message,"error"),t.deleting=!1,console.log(e),e.rows?t.setState({records:e.rows,loadingRows:!1}):t.setState({records:[]}),t.updating){var a=e.message,o=!a;t.setState({saved:o,error:a,message:e.message})}t.updating=!1,t.props.loaded!==e.loaded&&e.loaded&&e.selectedData&&t.setState({open:!0,sel:e.selectedData})},t.handleClickOpen=function(){var e={};q.columns.forEach(function(a){e[a.name]=""}),e[q.key]=null,t.props.openForNew(e)},t.handleClose=function(){t.props.closedEditBox(),t.setState({open:!1})},t.handleEditRow=function(e){t.props.openToEdit(e)},t.handleUpdate=function(e){console.log(t.props.saveData),t.props.formModified(),t.updating=!0,t.props.saveData(q,e)},t.handleDeleteRow=function(e){var a=e[q.key];console.log(a),t.props.deleteData(q,a),t.deleting=!0},t}return Object(r.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=q;return c.a.createElement(p.a,null,c.a.createElement(m.a,null,c.a.createElement(_.a,{style:{display:this.state.loadingRows?"block":"none"}}),c.a.createElement(u.a,{title:e.displayName},"Click Row to Edit",c.a.createElement(y.a,{onClick:this.handleClickOpen,variant:"fab",color:"primary","aria-label":"add",style:{float:"right",marginRight:"auto",marginLeft:"8px"}},c.a.createElement(f.a,null,"add")),c.a.createElement(w.a,{config:e,data:this.state.records,editRow:this.handleEditRow,deleteRow:this.handleDeleteRow}))),c.a.createElement(m.a,null,c.a.createElement(E.a,{config:e,data:this.state.records})),c.a.createElement(b.a,{config:e,open:this.state.open,updateError:this.state.error,updateSuccess:this.state.saved,message:this.state.message,onClose:this.handleClose,onUpdate:this.handleUpdate,data:this.state.sel}))}}]),a}(c.a.Component),T=Object(v.b)(function(e){return Object(o.a)({},e.MasterDetailsReducer)},{loadData:k,updateData:O,saveData:C,deleteData:S,openToEdit:j,openForNew:x,closedEditBox:N,formModified:M})(F);a.default=T}}]);
//# sourceMappingURL=23.97239546.chunk.js.map