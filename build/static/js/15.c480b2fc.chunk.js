(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{2014:function(e,t,a){"use strict";a.r(t);var s=a(4),n=a(114),o=a(5),r=a(6),l=a(9),i=a(8),d=a(10),p=a(0),c=a.n(p),u=a(233),m=(a(244),a(43)),y=a(80),g=(a(47),a(222)),h=a.n(g),b=a(632),f=a.n(b),_=a(228),E=a.n(_),v=a(301),w=a.n(v),S=a(629),D=a.n(S),C=a(631),k=a.n(C),x=a(630),U=a.n(x),N=a(135),O=(a(567),a(715)),j=(a(633),a(120),a(25)),P=a(46),q=a(11),F=a.n(q),I=j.a.loadData,R=j.a.saveData,T=j.a.updateData,B=j.a.deleteData,M=j.a.openToEdit,z=j.a.openForNew,J=j.a.closedEditBox,L=j.a.loadUserSettings,Y={tableName:"settings",displayName:"Settings table",key:"cate_id",display:"cate_name",description:"Settings Table",columns:[{name:"sett_id",display:"Setting ID",type:"number",sequence:"cate_id_seq",mandatory:!0,unique:!0,key:!0},{name:"sett_user_id",display:"User ID",type:"number",mandatory:!0,unique:!0,disabled:!0},{name:"sett_company_name",display:"Company Name",type:"text"},{name:"sett_company_logo",display:"Logo",type:"picture"},{name:"sett_company_motto",display:"Motto",type:"text"},{name:"sett_company_email",display:"Email",type:"text"},{name:"sett_company_phone",display:"Phone",type:"text"},{name:"sett_indt_id",display:"Industry",type:"text"}]},A={tableName:"users",displayName:"Users Records",description:"System User",columns:[{name:"user_id",display:"User Id",type:"number",sequence:"user_id_seq",mandatory:!0,unique:!0,key:!0},{name:"user_fname",display:"First Name",type:"text",mandatory:!0},{name:"user_lname",display:"Surname",type:"text",mandatory:!0},{name:"user_email",display:"Email",type:"text",mandatory:!1},{name:"user_user_pic",display:"User Photo",type:"picture"}]},W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={open:!1,records:[],user:{},settings:{},loadingRows:!0},a.componentDidMount=function(){a.props.loadUserSettings()},a.componentWillReceiveProps=function(e){if(a.deleting&&e.success&&h()("Deleted!","Your row has been deleted.","success"),a.deleting&&!e.success&&h()("Failed to Deleted!","Your row has not been deleted. Error was "+e.message,"error"),a.deleting=!1,console.log(e),e.rows?a.setState({records:e.rows,loadingRows:!1}):a.setState({records:[]}),a.updating){var t=e.message,s=!t;a.setState({saved:s,error:t,message:e.message})}a.updating=!1,a.props.loaded!==e.loaded&&e.loaded&&e.selectedData&&a.setState({open:!0,sel:e.selectedData}),e.profile&&a.setState({user:e.profile.user,settings:e.profile.settings})},a.handleClickOpen=function(){var e={};a.props.config.columns.forEach(function(t){e[t.name]=""}),e[a.props.config.key]=null,a.props.openForNew(e)},a.handleClose=function(){a.props.closedEditBox(),a.setState({open:!1})},a.handleEditRow=function(e){a.props.openToEdit(e)},a.handleUpdate=function(e){console.log(a.props.saveData),a.updating=!0,a.props.saveData(a.props.config,e)},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){this.props.config;var e=this.state,t=e.loading,a=e.success,s=e.error,o=this.props.classes,r=F()(Object(n.a)({},o.buttonSuccess,a));return c.a.createElement(u.a,null,c.a.createElement(m.a,null,c.a.createElement("h3",null,"Personal"),c.a.createElement(O.a,{config:A,open:this.state.open,updateError:this.state.error,updateSuccess:this.state.saved,message:this.state.message,onClose:this.handleClose,onUpdate:this.handleUpdate,data:this.state.user,isPanel:!0})),c.a.createElement(m.a,null,c.a.createElement("h3",null,"Company"),c.a.createElement(O.a,{config:Y,open:this.state.open,updateError:this.state.error,updateSuccess:this.state.saved,message:this.state.message,onClose:this.handleClose,onUpdate:this.handleUpdate,data:this.state.settings,isPanel:!0})),c.a.createElement(m.a,null,c.a.createElement(y.a,{variant:"fab",color:"primary",className:r,onClick:this.handleSave},a?c.a.createElement(D.a,null):s?c.a.createElement(U.a,null):c.a.createElement(k.a,null)),t&&c.a.createElement(f.a,{size:68,className:o.fabProgress})))}}]),t}(c.a.Component),G=Object(P.b)(function(e){return Object(s.a)({},e.MasterDetailsReducer)},{loadData:I,updateData:T,saveData:R,deleteData:B,openToEdit:M,openForNew:z,closedEditBox:J,loadUserSettings:L})(W);t.default=Object(N.withStyles)(function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing.unit,position:"relative"},buttonSuccess:{backgroundColor:E.a[500],"&:hover":{backgroundColor:E.a[700]}},buttonFailed:{backgroundColor:w.a[500],"&:hover":{backgroundColor:w.a[700]}},fabProgress:{color:E.a[500],position:"absolute",right:20,bottom:20,zIndex:1},buttonProgress:{color:E.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(G)}}]);
//# sourceMappingURL=15.c480b2fc.chunk.js.map